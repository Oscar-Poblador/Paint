<!DOCTYPE html>
<html>
<head>
    <title>PAINT</title>
    <meta name=" viewport" content="widht=device-width , inicial-scale=1">
    <meta charset="utf-8">
    <link rel="stylesheet"  type="text/css" href="css/style.css">
</head>
<body>
    <canvas id="myCanvas" width="1327" height="500" style="border:1px solid #d3d3d3;"></canvas><br>
    <input type="color" id="color" oninput="def_color(this.value);">
    <input type="range" id="Grosor" oninput="def_Grosor(this.value);" min="1"  max="10" value="1">
    <input type="button" value="Borrar" onclick="limpiar()">
    <input type="button" value="Linea" onclick="dibujar_paint(1)">
    <input type="button" value="Rectangulo" onclick="dibujar_paint(2)">
    <input type="button" value="Circulo" onclick="dibujar_paint(3)">
    <input type="button" value="Pincel" onclick="dibujar_paint(4)">
    </script>

</body>
</html>
<script>
    var canvas = document.getElementById("myCanvas");
    var ctx = canvas.getContext("2d");
    var rect=canvas.getBoundingClientRect();
    var x=0, y=0, dibujando=false, color='black', grosor=1;
    var modo=0;
    
    function def_color(c){
        color=c;
    }
    function def_Grosor(g){
        grosor=g;
    }
    
    function limpiar(){
        ctx.clearRect(0,0,1327,1000);
        ctx.moveTo(0,0);
        ctx.beginPath();
    }
 
    function dibujar_paint(a){
        if(a===4){
            modo=0;
            window.addEventListener("load", () => {
            canvas.width = canvas.offsetWidth;
            canvas.height= canvas.offsetHeight;
        
            });
            canvas.addEventListener("mousemove",function(e){
                    if((dibujando===true)&(modo===0)){
                        dibujar(x,y,(e.clientX - rect.left),(e.clientY - rect.top));
                        x=e.clientX - rect.left ;
                        y=e.clientY - rect.top;
                        
                    }
                });
            canvas.addEventListener("mousedown",function(e){
                x=e.clientX - rect.left;
                y=e.clientY - rect.top;
                dibujando=true;
            });

            

            canvas.addEventListener("mouseup",function(e){
                if(dibujando===true){
                    if(modo===2){
                        dibujar_rect(x,y,(e.clientX - rect.left),(e.clientY - rect.top));
                        x=0;
                        y=0;
                        dibujando=false;
                    }else 
                    dibujar(x,y,(e.clientX - rect.left),(e.clientY - rect.top));
                    x=0;
                    y=0;
                    dibujando=false;
                }
            });

        }else
        if(a===1){
            modo=1;
            
            window.addEventListener("load", () => {
            canvas.width = canvas.offsetWidth;
            canvas.height= canvas.offsetHeight;
        
            });
            canvas.addEventListener("mousemove",function(e){
                if((dibujando===true)&(modo===0)){
                        dibujar(x,y,(e.clientX - rect.left),(e.clientY - rect.top));
                        x=e.clientX - rect.left ;
                        y=e.clientY - rect.top;
                        
                    }
                });
            canvas.addEventListener("mousedown",function(e){
                x=e.clientX - rect.left;
                y=e.clientY - rect.top;
                dibujando=true;
            });

            

            canvas.addEventListener("mouseup",function(e){
                if(dibujando===true){
                    if(modo===2){
                        dibujar_rect(x,y,(e.clientX - rect.left),(e.clientY - rect.top));
                        x=0;
                        y=0;
                        dibujando=false;
                    }else 
                    dibujar(x,y,(e.clientX - rect.left),(e.clientY - rect.top));
                    x=0;
                    y=0;
                    dibujando=false;
                }
            });
        
        }else 
        if(a===2){
            modo=2; 
            window.addEventListener("load", () => {
            canvas.width = canvas.offsetWidth;
            canvas.height= canvas.offsetHeight;
        
            });
            canvas.addEventListener("mousemove",function(e){
                if((dibujando===true)&(modo===0)){
                        dibujar(x,y,(e.clientX - rect.left),(e.clientY - rect.top));
                        x=e.clientX - rect.left ;
                        y=e.clientY - rect.top;
                        
                    }
                });
            canvas.addEventListener("mousedown",function(e){
                x=e.clientX - rect.left;
                y=e.clientY - rect.top;
                dibujando=true;
            });

            

            canvas.addEventListener("mouseup",function(e){
                if(dibujando===true){
                    if(modo===2){
                        dibujar_rect(x,y,(e.clientX - rect.left),(e.clientY - rect.top));
                        x=0;
                        y=0;
                        dibujando=false;
                    }else 
                    dibujar(x,y,(e.clientX - rect.left),(e.clientY - rect.top));
                    x=0;
                    y=0;
                    dibujando=false;
                }
            });


        }
        
            function dibujar(x1,y1,x2,y2){
            ctx.beginPath();
            ctx.strokeStyle=color;
            ctx.lineWidth=grosor;
            ctx.moveTo(x1,y1);
            ctx.lineTo(x2,y2);
            ctx.stroke();
            ctx.closePath();
            }

            function dibujar_rect(x1,y1,x2,y2){
            ctx.beginPath();
            ctx.strokeStyle=color;
            ctx.lineWidth=grosor;
            var horizontal=x1-(x1-x2);
            var vertical =y1-(y1-y2);
            ctx.moveTo(x1,y1);
            ctx.lineTo(horizontal,y1);

            ctx.moveTo(horizontal,y1);
            ctx.lineTo(x2,y2);

            ctx.moveTo(x1,y1);
            ctx.lineTo(x1,vertical);

            ctx.moveTo(x1,vertical);
            ctx.lineTo(x2,y2);
            ctx.stroke();
            ctx.closePath();
            }
    }
 
       
    

    

    
   
  

</script>

</body>
</html>